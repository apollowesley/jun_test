!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Validator",[],t):"object"==typeof exports?exports.Validator=t():e.Validator=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(2),o=n(a);t.default=o.default,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=r(3),f=r(5),c=n(f),d=function(e){function t(){return a(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),l(t,[{key:"afterFieldValidate",value:function(e,t){i(t,{placeId:"valid_error_place_"+(t.id||t.name)}),e?this.handleSuccessPlace(t):this.handleErrorPlace(t)}},{key:"addFormEvent",value:function(){var e=this,t=function(t){var r=(0,s.getCurrentEvent)(t),n=r.target||r.srcElement,a=e.fields[n.name],o=e.handleGetArrayByName(a.name);return(0,s.isSameNameField)(o)?a.el=[n]:a.el=o,e.assembleValidateField(a)};return this.form.oninput=t,this.form.onchange=t,this}},{key:"handleSuccessPlace",value:function(e){var t=e.el;if(t&&t.length){var r=this.opts.classNames;t.forEach(function(e){(0,s.removeClass)(e,r.error),(0,s.addClass)(e,r.success)});var n=document.getElementById(e.placeId);n&&n.parentNode.removeChild(n)}}},{key:"handleErrorPlace",value:function(e){var t=e.el;if(t&&t.length){var r=this.opts.classNames;t.forEach(function(e){(0,s.removeClass)(e,r.success),(0,s.addClass)(e,r.error)});var n=document.getElementById(e.placeId);if(n||(n=document.createElement("label"),(0,s.addClass)(n,r.error+"-message"),n.setAttribute("id",e.placeId)),n.innerText=e.message,"function"==typeof this.opts.errorPlacement)this.opts.errorPlacement(n,t);else{var a=t[0];(0,s.isRadioOrCheckbox)(a)||a.parentNode.appendChild(n)}}}}]),t}(c.default);t.default=d,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e||window.event}function a(e){return"radio"===e.type||"checkbox"===e.type}function o(e){return"OPTION"===e[0].tagName}function u(e){return e&&e.length&&!a(e[0])&&!o(e)}function i(e,t){if(a(e[0]))for(var r=0,n=e.length;r<n;r+=1)if(e[r].checked)return e[r][t];return e[0][t]}function l(e,t){return e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function s(e,t){l(e,t)||(e.classList?e.classList.add(t):e.className+=" "+t)}function f(e,t){if(l(e,t))if(e.classList)e.classList.remove(t);else{var r=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(r," ")}}function c(e){var t=e.el;t?d(e,{id:t[0].id,type:t[0].type,value:i(t,"value"),checked:i(t,"checked")}):d(e,v)}Object.defineProperty(t,"__esModule",{value:!0});var d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p=r(4);Object.defineProperty(t,"getValue",{enumerable:!0,get:function(){return p.getValue}}),Object.defineProperty(t,"parseToDate",{enumerable:!0,get:function(){return p.parseToDate}}),t.getCurrentEvent=n,t.isRadioOrCheckbox=a,t.isSelect=o,t.isSameNameField=u,t.attributeValue=i,t.addClass=s,t.removeClass=f,t.assembleField=c;var v=t.fieldOtherInitProps={id:null,el:null,type:null,value:null,checked:null}},function(e,t){"use strict";function r(e){return"object"===("undefined"==typeof e?"undefined":a(e))?e.value:e}function n(e){var t=new Date,r=e.split("-");return t.setFullYear(r[0]),t.setMonth(r[1]-1),t.setDate(r[2]),t}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.getValue=r,t.parseToDate=n},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),f=r(6),c=n(f),d=r(3),p=r(11),v=n(p),h=function(e){function t(e){var r;a(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(l(n,v.default),!e){var u;return u=n,o(n,u)}return n.opts=l({classNames:{error:"valid-error",success:"valid-success"}},e),n.form={},n.errors={},n.fields={},n.handles={},n.addFields(n.opts.fields),n.opts.formName&&(n.form=document.forms[n.opts.formName],n.form.setAttribute("novalidate","novalidate"),n.addFormEvent(),n.handleOnSubmit()),r=n,o(n,r)}return u(t,e),s(t,[{key:"validate",value:function(e){var t=this;this.handles.evt=(0,d.getCurrentEvent)(e);var r=!0;return Object.keys(this.fields).forEach(function(e){t.validateByName(e)||(r=!1)}),r||this.preventSubmit(),"function"==typeof this.opts.callback&&this.opts.callback(r,this.errors),r}},{key:"validateByName",value:function(e){var t=this,r=this.fields[e],n=!0;if(!r)return!n;var a=this.handleGetArrayByName(r.name);return(0,d.isSameNameField)(a)?a.forEach(function(e){r.el=[e],t.assembleValidateField(r)||(n=!1)}):(r.el=a,n=this.assembleValidateField(r)),n}},{key:"assembleValidateField",value:function(e){(0,d.assembleField)(e);var t=this.validateByField(e),r=t.result,n=t.error;return n.el=e.el,this.errors[n.name]=r?null:n,this.afterFieldValidate(r,n),r}},{key:"preventSubmit",value:function(){var e=this.handles.evt;return e&&e.preventDefault?e.preventDefault():e&&(e.returnValue=!1),this}},{key:"addFields",value:function(e){var t=this;return"object"===("undefined"==typeof e?"undefined":i(e))&&Object.keys(e).forEach(function(r){t.fields[r]=l({},e[r],{name:r},d.fieldOtherInitProps)}),this}},{key:"removeFields",value:function(){for(var e=this,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.forEach(function(t){delete e.fields[t],delete e.errors[t]}),this}},{key:"handleOnSubmit",value:function(){var e=this.form.onsubmit;this.form.onsubmit=function(t){return function(r){try{var n=(0,d.getCurrentEvent)(r);return t.validate(n)&&(void 0===e||e())}catch(e){return null}}}(this)}},{key:"handleGetArrayByName",value:function(e){var t=this.form[e],r=[];if(!t||0===t.length)return r;var n=t.length;if(n&&!(0,d.isSelect)(t))for(var a=0;a<n;a+=1)r.push(t[a]);else r.push(t);return r}}]),t}(c.default);t.default=h,e.exports=t.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(7),o=n(a);t.default=o.default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(8),l=n(i),s=r(10),f=n(s),c=function(){function e(){return a(this,e),o(this,o({},l.default)),this}return u(e,[{key:"addMethods",value:function(e){return o(this,e),this}},{key:"removeMethods",value:function(){for(var e=this,t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return r.forEach(function(t){return delete e[t]}),this}},{key:"validateByField",value:function(e){return f.default.call(this,e)}}]),e}();t.default=c},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=r(9),o=n(a),u=r(4);t.default={isNumeric:function(e){return o.default.numeric.test((0,u.getValue)(e))},isInteger:function(e){return o.default.integer.test((0,u.getValue)(e))},isDecimal:function(e){return o.default.decimal.test((0,u.getValue)(e))},isEmail:function(e){return o.default.email.test((0,u.getValue)(e))},isIp:function(e){return o.default.ip.test((0,u.getValue)(e))},isTel:function(e){return o.default.tel.test((0,u.getValue)(e))},isPhone:function(e){return o.default.phone.test((0,u.getValue)(e))},isAbc:function(e){return o.default.abc.test((0,u.getValue)(e))},isUrl:function(e){return o.default.url.test((0,u.getValue)(e))},isDate:function(e){var t=(0,u.getValue)(e);if(o.default.date.test(t)){t=t.split("-");var r=parseInt(t[0],10),n=parseInt(t[1],10),a=parseInt(t[2],10);if(r<1||r>9999||n<1||n>12)return!1;var i=[31,28,31,30,31,30,31,31,30,31,30,31];return(r%400===0||r%100!==0&&r%4===0)&&(i[1]=29),!(a<1||a>i[n-1])}return!1},required:function(e){return"string"==typeof e?""!==e:Array.isArray(e.value)?e.value.length:null!==e.value&&""!==e.value},greaterThan:function(e,t){var r=(0,u.getValue)(e);return!!o.default.decimal.test(r)&&parseFloat(r)>parseFloat(t)},lessThan:function(e,t){var r=(0,u.getValue)(e);return!!o.default.decimal.test(r)&&parseFloat(r)<parseFloat(t)},maxLength:function(e,t){return!!o.default.integer.test(t)&&(0,u.getValue)(e).length<=parseInt(t,10)},minLength:function(e,t){return!!o.default.integer.test(t)&&(0,u.getValue)(e).length>=parseInt(t,10)},greaterThanDate:function(e,t){var r=(0,u.parseToDate)((0,u.getValue)(e)),n=(0,u.parseToDate)(t);return!(!n||!r)&&r>n},lessThanDate:function(e,t){var r=(0,u.parseToDate)((0,u.getValue)(e)),n=(0,u.parseToDate)(t);return!(!n||!r)&&r<n}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={numeric:/^\d+$/,integer:/^-?\d+$/,decimal:/^-?\d*\.?\d+$/,email:/^[a-zA-Z0-9.!#$%&’*+\/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/,ip:/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])((\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])){3}|(\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])){5})$/,tel:/^(([0+]\d{2,3}-)?(0\d{2,3})-)(\d{7,8})(-(\d{3,}))?$/,phone:/^1[3-9]\d{9}$/,abc:/^\w+$/,url:/[a-zA-Z]+:\/\/[^\s]*/,date:/^\d{4}-\d{1,2}-\d{1,2}$/}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=function(e){var t=this,n=!0,a={id:e.id,name:e.name,value:e.value},o=e.rules.split(/\s*\|\s*/g),u=o.some(function(e){return"required"===e}),i=void 0===e.value||null===e.value||""===e.value;return o.forEach(function(o,l){if(n){var s=/^(.+?)\((.+)\)$/.exec(o),f=o,c="";s&&(f=s[1],c=s[2]);var d=!u&&i;"function"!=typeof t[f]||d||t[f].apply(t,[e,c])||(n=!1),n||r(a,{rule:f,message:function(){var t=e.messages?e.messages.split(/\s*\|\s*/g)[l]:"";return t?t.replace(/\{\{\s*value\s*}}/g,e.value).replace(/\{\{\s*param\s*}}/g,c):t}()})}}),{result:n,error:a}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3);t.default={required:function(e){return"string"==typeof e?""!==e:Array.isArray(e.value)?e.value.length:(0,n.isRadioOrCheckbox)(e)?e.checked===!0:null!==e.value&&""!==e.value}},e.exports=t.default}])});
//# sourceMappingURL=Validator.min.js.map