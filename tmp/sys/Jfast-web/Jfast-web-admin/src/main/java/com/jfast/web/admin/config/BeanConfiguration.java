package com.jfast.web.admin.config;import org.springframework.context.annotation.Bean;import org.springframework.context.annotation.Configuration;import org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor;import java.util.concurrent.ThreadPoolExecutor;/** * @author zengjintao * @create 2019/6/17 10:03 * @since 1.0 **/@Configurationpublic class BeanConfiguration {    private static final int COUNT = Runtime.getRuntime().availableProcessors();    private static final int CORE_SIZE = COUNT * 2;    private static final int MAX_SIZE = COUNT * 4;    @Bean    public ThreadPoolTaskExecutor threadPoolTaskExecutor() {        ThreadPoolTaskExecutor threadPoolTaskExecutor = new ThreadPoolTaskExecutor();        threadPoolTaskExecutor.setMaxPoolSize(MAX_SIZE);        threadPoolTaskExecutor.setCorePoolSize(CORE_SIZE);        threadPoolTaskExecutor.setQueueCapacity(20);        threadPoolTaskExecutor.setKeepAliveSeconds(200);        threadPoolTaskExecutor.setRejectedExecutionHandler(new ThreadPoolExecutor.CallerRunsPolicy());        return threadPoolTaskExecutor;    }}