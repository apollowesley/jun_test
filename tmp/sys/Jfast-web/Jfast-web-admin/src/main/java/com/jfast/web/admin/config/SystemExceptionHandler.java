package com.jfast.web.admin.config;import com.jfast.common.exception.BusinessException;import org.apache.shiro.authz.UnauthorizedException;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import org.springframework.web.bind.annotation.ControllerAdvice;import org.springframework.web.bind.annotation.ExceptionHandler;import org.springframework.web.bind.annotation.ResponseBody;import java.util.HashMap;import java.util.Map;/** * @author zengjintao * @create 2019/6/17 10:03 * @since 1.0 **/@ControllerAdvicepublic class SystemExceptionHandler {    private static final Logger log = LoggerFactory.getLogger(SystemExceptionHandler.class);    @ExceptionHandler({Exception.class})    @ResponseBody    public Map resolveException(Exception ex) {        Map result = new HashMap();        if (ex instanceof BusinessException) {            BusinessException exception = (BusinessException)ex;            result.put("code", exception.getResultCode());            result.put("message", exception.getResultCode().getMessage());        } else if (ex instanceof UnauthorizedException) {            result.put("code", 400);            result.put("message", "权限不足,无法访问");        } else {            result.put("code", 0);            result.put("message", "操作异常");        }        log.error("操作异常", ex);        return result;    }}