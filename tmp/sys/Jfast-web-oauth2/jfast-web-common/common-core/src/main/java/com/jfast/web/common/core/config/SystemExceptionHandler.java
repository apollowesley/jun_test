package com.jfast.web.common.core.config;import com.jfast.web.common.core.utils.ResultCode;import lombok.extern.slf4j.Slf4j;import org.springframework.web.bind.annotation.ControllerAdvice;import org.springframework.web.bind.annotation.ExceptionHandler;import org.springframework.web.bind.annotation.ResponseBody;import java.nio.file.AccessDeniedException;import java.util.HashMap;import java.util.Map;/** * 捕获系统异常 * @author zengjintao * @create 2019/3/25 9:24 * @since 1.0 **/@ControllerAdvice@Slf4jpublic class SystemExceptionHandler {    @ExceptionHandler(Exception.class)    @ResponseBody    public Map resolveException(Exception ex) {        Map result = new HashMap<>();        if (ex instanceof BusinessException) {            BusinessException exception = (BusinessException)ex;            result.put("code", exception.getResultCode());            result.put("message", exception.getResultCode().getMessage());        } else if (ex instanceof AccessDeniedException) {            result.put("code", ResultCode.NO_URL_PERMISSION);            result.put("message", "权限不足，无法访问");        }        else {            result.put("code", ResultCode.FAIL);            result.put("message", "系统异常,请稍后重试");        }        log.error("操作异常", ex);        return result;    }}