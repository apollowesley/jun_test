<?xml version="1.0" encoding="UTF-8"?>
<businessLogConfigs>
    <preTemplate>${user}:${ip}:${time!Date}</preTemplate>
    <businessLogConfig>
        <!--向项目中的合同，添加一张发票-->
        <method>String business.ContractApplication.addInvoice(String,long,long)</method>
        <template><![CDATA[合同添加入项目${project.name}]]></template>
        <querys>
            <query id="project">
                <targetBean refId="projectApplication"/>
                <method>findByProjectName</method>
                <args>
                    <arg ref="param0"/>
                </args>
            </query>
            <query id="contract">
                <targetBean class="business.ContractApplicationImpl"/>
                <method>findByContractIdAndProject</method>
                <args>
                    <arg>1</arg>
                    <arg ref="project"/>
                </args>
            </query>
        </querys>
    </businessLogConfig>
    <businessLogConfig>
        <method>String business.ContractApplication.addContract(long)</method>
        <template>
            <![CDATA[添加合同${methodReturn}]]>
        </template>
    </businessLogConfig>
</businessLogConfigs>